<!--pages/cart/index.wxml-->
<view class="container">
  <view class="header">
    <view class="title">今天吃什么😋</view>
  </view>
  
  <!-- 购物车商品列表 -->
  <view class="cart-list" wx:if="{{cart.length > 0}}">
    <view 
      wx:for="{{cart}}" 
      wx:key="id" 
      class="cart-item"
    >
      <image class="food-image" src="{{item.image}}" mode="aspectFill"></image>
      <view class="food-info">
        <view class="food-name">{{item.name}}</view>
      </view>
      <view class="quantity-control">
        <view 
          class="quantity-btn" 
          bindtap="decreaseQuantity" 
          data-id="{{item.id}}"
        >-</view>
        <view class="quantity">{{item.quantity}}</view>
        <view 
          class="quantity-btn" 
          bindtap="increaseQuantity" 
          data-id="{{item.id}}"
        >+</view>
      </view>
    </view>
  </view>

  <!-- 备注区域（独立卡片） -->
  <view class="remark-section" wx:if="{{cart.length > 0}}">
    <view class="remark-title">备注</view>
    <textarea 
      class="remark-textarea" 
      placeholder="给孙老师的备注（口味、忌口等）" 
      value="{{remark}}" 
      bindinput="onRemarkInput" 
      maxlength="120"
      show-confirm-bar="false"
    ></textarea>
  </view>
  
  <!-- 空购物车提示 -->
  <view class="empty-cart" wx:if="{{cart.length === 0}}">
    <image src="../../images/icons/goods.png" class="empty-icon"></image>
    <view class="empty-text">肚子空空的...</view>
    <button class="go-menu-btn" bindtap="goToMenu">去点餐</button>
  </view>
  
  <!-- 结算栏 -->
  <view class="checkout-bar" wx:if="{{cart.length > 0}}">
    <view class="total-items">
      共 {{totalItems}} 件美味
    </view>
    <button class="checkout-btn" bindtap="checkout">交给孙老师🍽</button>
  </view>
</view>
