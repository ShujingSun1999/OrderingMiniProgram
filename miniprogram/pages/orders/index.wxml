<!--pages/orders/index.wxml-->
<view class="container">
  <view class="header">
    <view class="title">我的订单</view>
    <button class="share-btn" open-type="share">
      <image src="../../images/icons/share.svg" class="share-icon"></image>
    </button>
  </view>
  
  <!-- 订单列表 -->
  <view class="order-list">
    <view 
      wx:for="{{orders}}" 
      wx:key="id" 
      class="order-item"
    >
      <view class="order-header">
        <view class="order-id">订单号: {{item.id}}</view>
        <view class="order-status {{item.status}}">
          {{item.status === 'pending' ? '待处理' : '已完成'}}
        </view>
      </view>
      
      <view class="order-time">下单时间: {{item.createTime}}</view>
      
      <!-- 订单商品 -->
      <view class="order-items">
        <view 
          wx:for="{{item.items}}" 
          wx:key="id" 
          class="order-food"
        >
          <view class="food-name">{{item.name}} × {{item.quantity}}</view>
          <view class="food-price">¥{{item.price * item.quantity}}</view>
        </view>
      </view>
      
      <view class="order-footer">
        <view class="order-total">
          总计: ¥{{item.total}}
        </view>
        <button class="share-order-btn" bindtap="shareOrder" data-order="{{item}}">分享订单</button>
      </view>
    </view>
  </view>
  
  <!-- 空订单提示 -->
  <view class="empty-orders" wx:if="{{orders.length === 0}}">
    <image src="../../images/icons/business.png" class="empty-icon"></image>
    <view class="empty-text">暂无订单</view>
    <button class="go-menu-btn" bindtap="goToMenu">去点餐</button>
  </view>
</view>
